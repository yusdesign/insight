
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Express.js Core Architecture Analysis</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        .header {
            background: rgba(255,255,255,0.95);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            text-align: center;
        }
        .header h1 {
            color: #333;
            margin-bottom: 10px;
            font-size: 2.5em;
        }
        .header .subtitle {
            color: #666;
            font-size: 1.2em;
        }
        .dashboard {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        .card {
            background: rgba(255,255,255,0.95);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .card h2 {
            color: #333;
            margin-bottom: 15px;
            border-bottom: 2px solid #667eea;
            padding-bottom: 5px;
        }
        .metrics {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }
        .metric {
            text-align: center;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        .metric .value {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
        }
        .metric .label {
            font-size: 0.9em;
            color: #666;
        }
        .diagram-container {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
        }
        .plantuml-image {
            max-width: 100%;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .ascii-diagram {
            background: #1e1e1e;
            color: #00ff00;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            white-space: pre;
            overflow-x: auto;
            margin-bottom: 20px;
            display: none;
        }
        .toggle-button {
            background: #667eea;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px 0;
        }
        .toggle-button:hover {
            background: #5a6fd8;
        }
        .plantuml-section {
            background: white;
            padding: 20px;
            border-radius: 10px;
        }
        .plantuml-code {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            margin-bottom: 10px;
            max-height: 400px;
            overflow-y: auto;
        }
        .classes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
        }
        .class-card {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }
        .class-name {
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }
        .method-list, .property-list {
            font-size: 0.9em;
        }
        .method-list li, .property-list li {
            margin-bottom: 5px;
            padding-left: 10px;
        }
        .quality-indicator {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8em;
            margin-left: 10px;
        }
        .quality-high { background: #d4edda; color: #155724; }
        .quality-medium { background: #fff3cd; color: #856404; }
        .quality-low { background: #f8d7da; color: #721c24; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🏗️ Express.js Core Architecture Analysis</h1>
            <div class="subtitle">Generated by Insight Suite JS2UML</div>
        </div>

        <div class="dashboard">
            <div class="card">
                <h2>📊 Architecture Metrics</h2>
                <div class="metrics">
                    <div class="metric">
                        <div class="value">5</div>
                        <div class="label">Classes</div>
                    </div>
                    <div class="metric">
                        <div class="value">28</div>
                        <div class="label">Methods</div>
                    </div>
                    <div class="metric">
                        <div class="value">100%</div>
                        <div class="label">Quality Score</div>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <h2>🔗 Relationships</h2>
                <div class="metric">
                    <div class="value">2</div>
                    <div class="label">Connections</div>
                </div>
            </div>

            <div class="card">
                <h2>🎯 Quality Assessment</h2>
                <div class="metric">
                    <div class="value">
                        🟢
                    </div>
                    <div class="label">
                        Excellent
                    </div>
                </div>
            </div>
        </div>

        <div class="card">
            <h2>📐 PlantUML Architecture Diagram</h2>
            <div class="diagram-container">
                <img src="http://www.plantuml.com/plantuml/svg/nLRDRXCn4BxlKunKeG9j8jGJL5L4b0O8WYHaamDI9UJiJhAcZhtOtgOH0d7X21pWX40WNe0hpzCNe8_0UBsRj0ajBKBYiXx_pVTzipCZtpQMQPjDH11ORWN2_N1hyF01x2AcK9TCp0mtUxA71yW4bsDeg1YXhpERq7Am3jr1hzi9czimnM5bfDa4fqhlxybrQ7JQTrgxpNQ3DczjLMzSSOlTUh_VxBN3RPZmE1OuPHetGQlCadCoy5c6nbOqcbH9W-xAeq7zGQl_65fXE6ZInHjkiTNk3rhzLgSDOQFJ8uIRDwjRVo2qmCxalbHJkRbYN1el4imOQ1wcnDZ0ym2WMeMkLYbgoz7GR4y2L0nQ9z3GVWNbc4lCJQVRMmRr0MfdLTm5SjAI5lM8HLZus8We85PdaLNwwZKwkH7ZY6N2DfGSyN6ccULA-Xs2ymPADXHO7ETcCV4al9sPmX3SMFGkJjEWF821OUEIoylVGyFE3Y-ErshvkH9_TIUdkBJy8YZYsNDnqMU7KwKEq0VEicX_7ajdZEJbmfXVN8e44y8RupAIgJBs8f4fl9shx6nXARF9ALKJj8cASwL4nGsEY1jvVEW6mMO-RmJzKd_vujBdUbTbkdGXDb52imLxNvxd_1ZDAQ-O66YnO9-pPbI9kGpoe6VE6AfuTZcw2vREssbYlb-SKu6MsSouxkKm4sGnQlDtDBohij9axAsdfgo--HBb-BqSw2A9u-__heJYC-gdzBsoEKTg7XP8kvYI7vJH8Y9hJfSIM1LgJ1xmyAI7DSUcIhAfQV7HR6b_7lRI_vDwjpNlVdU56X9aldGYX0xgUZwx7tRQXVcGyhqmwPTDk2dEhE0L7Q5QhHKbjBCJQMJKFMkrjR56bC4y1zoXkVASnabtiAOnfYji5WHIaQUXibPDG8tADauoZZwzXhgE4cunifb62AtEwyjiEtf7hxv1Mq7f5E8JuItt6mAP19Sh21CcwKzFKDezIGV1uIw3UuN_4VjVGgVPKF08U5bBvq3xblA_m7tAN0pzZr4D18xTX9fWuXGTV_dmXghTk2c46RbUVbUvC-y_GvYegI55L5MKdB01r9ZTK8hD6Npy-lF7Em3_53EGqFi9vKeOZh-y_NvQoBECNcvsHl78YPYSi6SQ1BVfIw-_Nm00" alt="PlantUML Architecture Diagram" class="plantuml-image" 
                     onerror="this.style.display='none'; document.getElementById('plantumlFallback').style.display='block'">
                <div id="plantumlFallback" style="display: none; color: #666; font-style: italic;">
                    PlantUML diagram could not be loaded. Check the source code below.
                </div>
            </div>
            
            <button class="toggle-button" onclick="toggleASCII()">📋 Toggle ASCII View</button>
            <div class="ascii-diagram" id="asciiDiagram">┌────────────────────────────────────────┐
│           ARCHITECTURE DIAGRAM         │
└────────────────────────────────────────┘

┌─ Express ─────────────────────────────┐
│ Methods:
│ ◉ constructor()
│ ◉ defaultConfiguration()
│ ◉ set()
│ ◉ enable()
│ ◉ disable()
│ ◉ engine()
│ ◉ use()
│ ◉ listen()
│
│ Properties:
│ • settings
│ • engines
│ • routes
│ • server
└────────────────────────────────────────┘
┌─ Router ──────────────────────────────┐
│ Methods:
│ ◉ constructor()
│ ◉ route()
│ ◉ use()
│ ◉ all()
│ ◉ get()
│ ◉ post()
│
│ Properties:
│ • options
│ • stack
│ • route
│ • fn
└────────────────────────────────────────┘
┌─ Route ───────────────────────────────┐
│ Methods:
│ ◉ constructor()
│ ◉ use()
│ ◉ get()
│ ◉ post()
│ ◉ dispatch()
│
│ Properties:
│ • path
│ • stack
│ • methods
│ • get
│ • post
│ • idx
│ • layer
│ • length
└────────────────────────────────────────┘
┌─ Request ─────────────────────────────┐
│ Methods:
│ ◉ constructor()
│ ◉ get()
│ ◉ param()
│
│ Properties:
│ • originalUrl
│ • method
│ • params
│ • query
│ • body
└────────────────────────────────────────┘
┌─ Response ────────────────────────────┐
│ Methods:
│ ◉ constructor()
│ ◉ status()
│ ◉ send()
│ ◉ json()
│ ◉ end()
│ ◉ setHeader()
│
│ Properties:
│ • statusCode
│ • headers
│ • body
└────────────────────────────────────────┘
RELATIONSHIPS:
──────────────
Router ──◉│──> Route
Response ──🌐──> External APIs

INSIGHTS:
─────────
• Total Classes: 5
• Total Methods: 28
• Quality Score: 100%
</div>
        </div>

        <div class="card">
            <h2>🏛️ Classes Overview</h2>
            <div class="classes-grid">
                
                    <div class="class-card">
                        <div class="class-name">
                            Express
                            <span class="quality-indicator quality-high">
                                8 methods
                            </span>
                        </div>
                        <div class="method-list">
                            <strong>Methods:</strong>
                            <ul>
                                
                                    <li>constructor() 🏗️</li>
                                
                                    <li>defaultConfiguration()</li>
                                
                                    <li>set()</li>
                                
                                    <li>enable()</li>
                                
                                    <li>disable()</li>
                                
                                    <li>engine()</li>
                                
                                    <li>use()</li>
                                
                                    <li>listen()</li>
                                
                            </ul>
                        </div>
                        
                        <div class="property-list">
                            <strong>Properties:</strong>
                            <ul>
                                <li>settings</li><li>engines</li><li>routes</li><li>server</li>
                            </ul>
                        </div>
                        
                        
                    </div>
                
                    <div class="class-card">
                        <div class="class-name">
                            Router
                            <span class="quality-indicator quality-high">
                                6 methods
                            </span>
                        </div>
                        <div class="method-list">
                            <strong>Methods:</strong>
                            <ul>
                                
                                    <li>constructor() 🏗️</li>
                                
                                    <li>route()</li>
                                
                                    <li>use()</li>
                                
                                    <li>all()</li>
                                
                                    <li>get()</li>
                                
                                    <li>post()</li>
                                
                            </ul>
                        </div>
                        
                        <div class="property-list">
                            <strong>Properties:</strong>
                            <ul>
                                <li>options</li><li>stack</li><li>route</li><li>fn</li>
                            </ul>
                        </div>
                        
                        
                    </div>
                
                    <div class="class-card">
                        <div class="class-name">
                            Route
                            <span class="quality-indicator quality-high">
                                5 methods
                            </span>
                        </div>
                        <div class="method-list">
                            <strong>Methods:</strong>
                            <ul>
                                
                                    <li>constructor() 🏗️</li>
                                
                                    <li>use()</li>
                                
                                    <li>get()</li>
                                
                                    <li>post()</li>
                                
                                    <li>dispatch()</li>
                                
                            </ul>
                        </div>
                        
                        <div class="property-list">
                            <strong>Properties:</strong>
                            <ul>
                                <li>path</li><li>stack</li><li>methods</li><li>get</li><li>post</li><li>idx</li><li>layer</li><li>length</li>
                            </ul>
                        </div>
                        
                        
                    </div>
                
                    <div class="class-card">
                        <div class="class-name">
                            Request
                            <span class="quality-indicator quality-high">
                                3 methods
                            </span>
                        </div>
                        <div class="method-list">
                            <strong>Methods:</strong>
                            <ul>
                                
                                    <li>constructor() 🏗️</li>
                                
                                    <li>get()</li>
                                
                                    <li>param()</li>
                                
                            </ul>
                        </div>
                        
                        <div class="property-list">
                            <strong>Properties:</strong>
                            <ul>
                                <li>originalUrl</li><li>method</li><li>params</li><li>query</li><li>body</li>
                            </ul>
                        </div>
                        
                        
                    </div>
                
                    <div class="class-card">
                        <div class="class-name">
                            Response
                            <span class="quality-indicator quality-high">
                                6 methods
                            </span>
                        </div>
                        <div class="method-list">
                            <strong>Methods:</strong>
                            <ul>
                                
                                    <li>constructor() 🏗️</li>
                                
                                    <li>status()</li>
                                
                                    <li>send()</li>
                                
                                    <li>json()</li>
                                
                                    <li>end()</li>
                                
                                    <li>setHeader()</li>
                                
                            </ul>
                        </div>
                        
                        <div class="property-list">
                            <strong>Properties:</strong>
                            <ul>
                                <li>statusCode</li><li>headers</li><li>body</li>
                            </ul>
                        </div>
                        
                        
                        <div class="property-list">
                            <strong>External Dependencies:</strong>
                            <ul>
                                <li>console.log</li><li>json.stringify</li>
                                
                            </ul>
                        </div>
                        
                    </div>
                
            </div>
        </div>

        <div class="card plantuml-section">
            <h2>🌿 PlantUML Source Code</h2>
            <div class="plantuml-code">@startuml

title JS2UML Deep Analysis\nRevealing Code Truths\n
' PURPOSE: web-framework\n' CONFIDENCE: 92.0%\n' PATTERNS: middleware, routing, request-response\n' QUALITY ISSUES: 0\n' INTUITION SCORE: 88.2\n
' PURPOSE: web-framework\n' PATTERNS: unknown, unknown, unknown\n' QUALITY ISSUES: 0\n' INTUITION SCORE: 88.2\n
class Express {
  .. Properties ..\n  -settings
  -engines
  -routes
  -server
  --\n  .. Interface ..\n  +constructor()
  +defaultConfiguration()
  +set()
  +enable()
  +disable()
  +engine()
  +use()
  +listen()
  --\n  .. Internal Usage ..\n  ~defaultConfiguration() <<internal>>\n  ~enable() <<internal>>\n  ~set() <<internal>>\n}

class Router {
  .. Properties ..\n  -options
  -stack
  -route
  -fn
  --\n  .. Interface ..\n  +constructor()
  +route()
  +use()
  +all()
  +get()
  +post()
  --\n  .. Internal Usage ..\n  ~route() <<internal>>\n}

class Route {
  .. Properties ..\n  -path
  -stack
  -methods
  -get
  -post
  -idx
  -layer
  -length
  --\n  .. Interface ..\n  +constructor()
  +use()
  +get()
  +post()
  +dispatch()
}

class Request {
  .. Properties ..\n  -originalUrl
  -method
  -params
  -query
  -body
  --\n  .. Interface ..\n  +constructor()
  +get()
  +param()
}

class Response {
  .. Properties ..\n  -statusCode
  -headers
  -body
  --\n  .. Interface ..\n  +constructor()
  +status()
  +send()
  +json()
  +end()
  +setHeader()
  --\n  .. Internal Usage ..\n  ~json() <<internal>>\n  ~end() <<internal>>\n  ~setHeader() <<internal>>\n  --\n  .. External Dependencies ..\n  #console.log <<external>>\n  #json.stringify <<external>>\n}

class External_APIs {
  .. Global APIs ..\n  +console.*\n  +JSON.*\n  +Math.*\n  +Promise.*\n  <<external>>\n}

Router ..> Route <<creates>>#green
Response ..> External APIs <<external>> #red#gray

note bottom of Express
  ✅ Architecture Strengths:\n  • No external dependencies\n  • Clean state management\nend note
note bottom of Router
  ✅ Architecture Strengths:\n  • No external dependencies\n  • Clean state management\nend note
note bottom of Route
  ✅ Architecture Strengths:\n  • No external dependencies\n  • Clean public interface\nend note
note bottom of Request
  ✅ Architecture Strengths:\n  • No external dependencies\n  • Clean public interface\nend note
note bottom of Response
  ✅ Architecture Strengths:\n  • Clean state management\nend note

legend right
  🔍 Insight Suite Deep Analysis\n  📝 Shows declared + used + external\n  ⚠️  Reveals hidden dependencies\n  🎯 Architecture quality insights\nendlegend

@enduml</div>
            <button class="toggle-button" onclick="copyPlantUML()">📋 Copy PlantUML Source</button>
        </div>
    </div>

    <script>
        function toggleASCII() {
            const asciiDiv = document.getElementById('asciiDiagram');
            asciiDiv.style.display = asciiDiv.style.display === 'none' ? 'block' : 'none';
        }

        function copyPlantUML() {
            const plantUMLCode = `@startuml

title JS2UML Deep Analysis\nRevealing Code Truths\n
' PURPOSE: web-framework\n' CONFIDENCE: 92.0%\n' PATTERNS: middleware, routing, request-response\n' QUALITY ISSUES: 0\n' INTUITION SCORE: 88.2\n
' PURPOSE: web-framework\n' PATTERNS: unknown, unknown, unknown\n' QUALITY ISSUES: 0\n' INTUITION SCORE: 88.2\n
class Express {
  .. Properties ..\n  -settings
  -engines
  -routes
  -server
  --\n  .. Interface ..\n  +constructor()
  +defaultConfiguration()
  +set()
  +enable()
  +disable()
  +engine()
  +use()
  +listen()
  --\n  .. Internal Usage ..\n  ~defaultConfiguration() <<internal>>\n  ~enable() <<internal>>\n  ~set() <<internal>>\n}

class Router {
  .. Properties ..\n  -options
  -stack
  -route
  -fn
  --\n  .. Interface ..\n  +constructor()
  +route()
  +use()
  +all()
  +get()
  +post()
  --\n  .. Internal Usage ..\n  ~route() <<internal>>\n}

class Route {
  .. Properties ..\n  -path
  -stack
  -methods
  -get
  -post
  -idx
  -layer
  -length
  --\n  .. Interface ..\n  +constructor()
  +use()
  +get()
  +post()
  +dispatch()
}

class Request {
  .. Properties ..\n  -originalUrl
  -method
  -params
  -query
  -body
  --\n  .. Interface ..\n  +constructor()
  +get()
  +param()
}

class Response {
  .. Properties ..\n  -statusCode
  -headers
  -body
  --\n  .. Interface ..\n  +constructor()
  +status()
  +send()
  +json()
  +end()
  +setHeader()
  --\n  .. Internal Usage ..\n  ~json() <<internal>>\n  ~end() <<internal>>\n  ~setHeader() <<internal>>\n  --\n  .. External Dependencies ..\n  #console.log <<external>>\n  #json.stringify <<external>>\n}

class External_APIs {
  .. Global APIs ..\n  +console.*\n  +JSON.*\n  +Math.*\n  +Promise.*\n  <<external>>\n}

Router ..> Route <<creates>>#green
Response ..> External APIs <<external>> #red#gray

note bottom of Express
  ✅ Architecture Strengths:\n  • No external dependencies\n  • Clean state management\nend note
note bottom of Router
  ✅ Architecture Strengths:\n  • No external dependencies\n  • Clean state management\nend note
note bottom of Route
  ✅ Architecture Strengths:\n  • No external dependencies\n  • Clean public interface\nend note
note bottom of Request
  ✅ Architecture Strengths:\n  • No external dependencies\n  • Clean public interface\nend note
note bottom of Response
  ✅ Architecture Strengths:\n  • Clean state management\nend note

legend right
  🔍 Insight Suite Deep Analysis\n  📝 Shows declared + used + external\n  ⚠️  Reveals hidden dependencies\n  🎯 Architecture quality insights\nendlegend

@enduml`;
            navigator.clipboard.writeText(plantUMLCode).then(() => {
                alert('PlantUML code copied to clipboard!');
            });
        }

        // Add quality-based coloring
        document.querySelectorAll('.method-list li').forEach(li => {
            if (li.textContent.includes('constructor')) {
                li.style.color = '#e74c3c';
                li.style.fontWeight = 'bold';
            }
        });
    </script>
</body>
</html>
        